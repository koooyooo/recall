# SDI フラッシュカード

このプロジェクトは、Python で書かれたコマンドラインのフラッシュカードアプリケーションです。間隔反復システムを使用して、用語と定義を学習し記憶するのに役立ちます。フラッシュカードデータは複数の YAML ファイルに整理されており、ジャンルごとに簡単に管理および分類できます。アプリケーションは、復習が必要なカードを優先するためにユーザーの進捗を追跡します。

## 使い方

### 1. 実行

キーワードのフラッシュカードとして実行します。

### 2. `-r` オプションで実行

カードを逆順で実行します。

### 3. `--stats` オプションで実行

ステータスを表示します。

## 主要技術

*   **Python 3:** コアアプリケーションロジック。
*   **PyYAML:** YAML カードデータの解析に使用。
*   **rich:** リッチテキストと美しいターミナル出力用。
*   **uv:** 効率的な依存関係管理用。
*   **JSON:** ユーザーの進捗と状態は JSON ファイル (`~/.sdi_cards_state.json`) に保存されます。

## アーキテクチャ

アプリケーションのコアロジックは `sdi-cards.py` にあります。フラッシュカードデータは `cards/` ディレクトリ内の YAML ファイル（例: `cards/general.yaml`、`cards/network.yaml`）に保存されます。アプリケーションは、指定されたディレクトリ内の複数の YAML ファイルからカードを読み込むことができ、フラッシュカードをトピックやジャンルごとに分類できます。ユーザーの学習進捗は、ローカルの JSON 状態ファイルにセッション間で永続化されます。

## ビルドと実行

### 依存関係

このプロジェクトは、依存関係管理に `uv` を使用しています。必要なライブラリは `PyYAML` と `rich` です。以下のコマンドでインストールできます。

```bash
uv sync
```

### アプリケーションの実行

フラッシュカードクイズを実行するには、`sdi-cards.py` スクリプトを実行します。

```bash
.venv/bin/python sdi-cards.py
```

### コマンドラインオプション

以下のオプションでクイズをカスタマイズできます。

*   `-f, --file`: YAML ファイルまたは YAML ファイルを含むディレクトリへのパスを指定します (デフォルト: `cards/`)。
*   `-t, --tags`: 1つ以上のタグでカードをフィルタリングします (スペース区切り)。
*   `-n, --count`: クイズあたりの質問数を設定します (デフォルト: 15)。
*   `-r, --reverse`: クイズの方向を反転します (定義を表示し、用語を尋ねます)。
*   `-v, --verbose`: 各カードの長い説明、ノート、URLを表示します。
*   `--list`: クイズを開始せずに、利用可能なすべてのカードとそのタグを一覧表示します。
*   `--stats`: 学習統計を表示します。

**例:**

デフォルトの `cards/` ディレクトリから「gcp」と「db」のタグが付いた10問のクイズを開始するには:

```bash
.venv/bin/python sdi-cards.py -n 10 -t gcp db
```

長い説明、ノート、URLを表示する詳細出力でクイズを開始するには:

```bash
.venv/bin/python sdi-cards.py -n 1 -v
```

## 開発規約

*   **コードスタイル:** コードは標準の Python 規約 (PEP 8) に従います。
*   **データ管理:** フラッシュカードコンテンツは `cards/` ディレクトリ内の YAML ファイルで管理されます。各 YAML ファイルには複数のカードを含めることができます。
    *   **`meta.deck`**: デッキ名は、バイリンガル表現を可能にする `ja` (日本語) と `en` (英語) のキーを持つオブジェクトになりました。
    *   **`notes`**: `notes` フィールドは文字列のリストであり、カードごとに複数の異なるノートを記述できます。
    *   **`url`**: `url` フィールドも文字列のリストであり、複数の参照 URL (例: 公式ウェブサイト、GitHub リポジトリ) を含めることができます。
*   **状態管理:** ユーザーの進捗は、ユーザーのホームディレクトリ (`~/.sdi_cards_state.json`) にローカルに保存され、学習状態がセッション間で永続化されます。
*   **テスト:** プロジェクトには自動テストがありません。手動での検証は、様々なオプションでアプリケーションを実行することで行われます。
